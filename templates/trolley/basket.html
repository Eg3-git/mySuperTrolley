{% extends 'trolley/base.html' %}

{% block title_block %}Your basket{% endblock %}

{% load static %}

{% block body_block %}
    <h1>Here is your basket</h1>
    <h3>Total: £{{ order.calculate_basket_total }}</h3>
    <h3>Number of Items: {{ order.get_basket_quantities }}</h3>

    <div class="box">
        <div class="row">
            <div style="flex: 2"></div>
            <div style="flex: 2"><strong>Item</strong></div>
            <div style="flex: 1"><strong>Price</strong></div>
            <div style="flex: 1"><strong>Quantity</strong></div>
            <div style="flex: 1"><strong>Total</strong></div>
        </div>

        {% for item in items %}
        <div class="row">
            <div style="flex: 2"><p>{{ item.product.name }}</p></div>
            <div style="flex: 1"><p>{{ item.product.price }}</p></div>
            <div style="flex: 1"><p>{{ item.quantity }}</p></div>
            <div style="flex: 1">£{{ item.calculate_total }}</div>
        </div>
        {% endfor %}
    </div>
{% endblock %}